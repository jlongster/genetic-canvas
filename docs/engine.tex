%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Code generated by SchemeWeb from a .sw file. %
% Any change will be lost !                    %
% DO NOT EDIT please.                          %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass{article}
\begin{document}

\title{Engine}
\author{James Long}
\date{March 7, 2009}
\maketitle

First we load up the required modules.  We will be testing the main engine
module.

\begin{flushleft}
\verb|(load "lib/engine")|
\end{flushleft}

\section{Selection Procedures}

\subsection{selection-rws}

Implements roulette wheel selection. Given a number
\begin{math}N\end{math}, where \begin{math}N\end{math} is between 0
and the sum of all fitnesses, linearly search the genomes and find the
genome occupying the specified slot, where slot lengths are the genome's
fitness.

\begin{flushleft}
\verb|(define-test selection-rws|
 \\\verb|  (let ((pop (make-population 3)))|
 \\\verb|    (genotype-fitness-set! (car pop) 50)|
 \\\verb|    (genotype-fitness-set! (cadr pop) 25)|
 \\\verb|    (genotype-fitness-set! (caddr pop) 5)|
 \\\verb|    (assert-equal (selection-rws pop 25) (car pop))|
 \\\verb|    (assert-equal (selection-rws pop 50) (cadr pop))|
 \\\verb|    (assert-equal (selection-rws pop 70) (cadr pop))|
 \\\verb|    (assert-equal (selection-rws pop 76) (caddr pop))))|
\end{flushleft}

\subsection{selection-sus}

Implement stochastic universal selection. This build on top of
roulette wheel selection: instead of passing a random value to
\ref{selection-rws}, select mutiple genomes at once, dividing the
fitness space evenly and selecting the genomes at those points.
Typically, you would want to select a whole new population at once,
which means the spread of your fitness scores controls the selection
behaviour (higher spread, more variance, and vice versa).

\begin{flushleft}
\verb|(define-test selection-sus|
 \\\verb|  (let ((pop (make-population 3)))|
 \\\verb|    (genotype-fitness-set! (car pop) 50)|
 \\\verb|    (genotype-fitness-set! (cadr pop) 25)|
 \\\verb|    (genotype-fitness-set! (caddr pop) 5)|
 \\\verb|    (let ((vec-pop (list->vector (selection-sus pop 16))))|
 \\\verb|      (assert-equal (vector-ref vec-pop 0) (car pop))|
 \\\verb|      (assert-equal (vector-ref vec-pop 10) (cadr pop))|
 \\\verb|      (assert-equal (vector-ref vec-pop 15) (caddr pop)))))|
\end{flushleft}

\end{document}
